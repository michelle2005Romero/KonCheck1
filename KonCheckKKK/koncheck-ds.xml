<?xml version="1.0" encoding="UTF-8"?>
<datasources xmlns="http://www.jboss.org/ironjacamar/schema"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.jboss.org/ironjacamar/schema 
             http://docs.jboss.org/ironjacamar/schema/datasources_1_0.xsd">

    <datasource jndi-name="java:jboss/datasources/koncheckDS" 
                pool-name="koncheckDS" 
                enabled="true" 
                use-java-context="true">
        
        <!-- URL de conexión a MySQL XAMPP -->
        <connection-url>jdbc:mysql://localhost:3306/koncheck_db?useSSL=false&amp;serverTimezone=UTC&amp;characterEncoding=utf8&amp;allowPublicKeyRetrieval=true</connection-url>
        
        <!-- Driver de MySQL -->
        <driver>mysql</driver>
        
        <!-- Credenciales de la base de datos XAMPP (por defecto root sin password) -->
        <security>
            <user-name>root</user-name>
            <password></password>
        </security>
        
        <!-- Configuración del pool de conexiones -->
        <pool>
            <min-pool-size>5</min-pool-size>
            <max-pool-size>20</max-pool-size>
            <prefill>true</prefill>
        </pool>
        
        <!-- Validación de conexiones -->
        <validation>
            <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/>
            <background-validation>true</background-validation>
            <background-validation-millis>60000</background-validation-millis>
        </validation>
        
        <!-- Configuración de timeout -->
        <timeout>
            <idle-timeout-minutes>5</idle-timeout-minutes>
            <query-timeout>300</query-timeout>
        </timeout>
        
        <!-- Configuración de statements -->
        <statement>
            <prepared-statement-cache-size>50</prepared-statement-cache-size>
            <share-prepared-statements>true</share-prepared-statements>
        </statement>
    </datasource>
</datasources>