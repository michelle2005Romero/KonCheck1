<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Registro FuerzaPublica - KonCheck</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins",sans-serif; }
    html, body { height:100%; width:100%; background:#f5f5f5; }
    .container { display:flex; height:100vh; width:100vw; }
    .left-panel {
      flex:1;
      background:url("../../Assets/FONDOINGRESAR-FP.png") no-repeat center center;
      background-size:cover;
      color:white;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      gap:40px;
      padding:60px;
    }
    .left-panel img { width:60px; height:60px; }
    .left-panel h1 { font-weight:700; font-size:2rem; text-shadow:2px 2px 4px rgba(0,0,0,0.7), -1px -1px 2px rgba(255,255,255,0.2); }
    .left-panel .brand { display:flex; align-items:center; gap:12px; margin-top:-500px; margin-left:-280px; }

    .container { position:relative; }
    .side-tabs { position:absolute; left:calc(25% - 16px); top:30%; display:flex; flex-direction:column; gap:20px; align-items:flex-start; pointer-events:none; }
    .side-tab { pointer-events:auto; display:inline-block; text-decoration:none; font-weight:700; font-size:18px; border-radius:12px; padding:10px 26px; box-shadow:0 4px 0 rgba(0,0,0,0.06); transition:transform 0.12s ease, box-shadow 0.12s ease; }
    .side-tab.registro { background:#fff; color:#159000; border:none; width:220px; margin-left:100px; box-shadow:none; }
    .side-tab.registro:hover { transform:translateY(-2px); }
    .side-tab.ingresar { background:transparent; color:#fff; margin-left:100px; padding:10px 40px; }

    .right-panel { flex:1.4; background:#fff; display:flex; flex-direction:column; justify-content:flex-start; align-items:center; padding:60px 100px; color:#159000; }
    .right-panel h1 { color:#159000; font-size:2.2rem; font-weight:700; margin-top:-25px; text-align:center; }
    .right-panel h2 { color:#159000; font-size:1.4rem; font-weight:400; margin-top:18px; text-align:center; margin-right:300px; }

    .step { display:flex; align-items:center; justify-content:center; gap:80px; position:relative; margin-top:20px; margin-right:450px; }
    .step::before { content:""; position:absolute; width:200px; height:4px; background-color:#159000; left:50%; transform:translateX(-50%); z-index:0; }
    .step-number { position:relative; background:#159000; color:white; font-weight:700; font-size:1.8rem; width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; z-index:1; }

    form { margin-top:20px; width:100%; max-width:600px; }

    /* ====== CORRECCI√ìN DE ICONOS Y ERRORES ====== */
    .input-group {
      position: relative;
      margin-bottom: 40px; /* deja espacio fijo para el mensaje de error */
    }

    .input-group .icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 18px;
      color: black;
      pointer-events: none;
    }

    .input-group input {
      width: 100%;
      padding: 12px 12px 12px 38px; /* espacio para el icono */
      border: none;
      border-bottom: 2px solid black;
      outline: none;
      font-size: 16px;
      color: black;
      transition: border-color 0.3s, color 0.3s;
    }

    .input-group input:focus {
      border-color: #159000;
      color: #159000;
    }

    .input-group input::placeholder {
      color: rgba(0, 0, 0, 0.6);
    }

    .mensaje-error {
      position: absolute;
      bottom: -18px;
      left: 0;
      font-size: 12px;
      color: red;
      display: none;
    }

    .botones { display:flex; justify-content:space-between; align-items:center; margin-top:45px; width:100%; }
    .btn-volver { background:none; border:none; color:#159000; font-size:18px; font-weight:700; cursor:pointer; transition:color 0.3s ease; }
    .btn-volver:hover { color:#0d6b00; }
    .btn-guardar { background-color:#159000; color:#fff; border:none; padding:12px 35px; border-radius:30px; font-size:18px; font-weight:600; cursor:pointer; transition:0.3s; display:flex; align-items:center; gap:8px; margin-right:20px; }
    .btn-guardar:hover { background-color:#0d6b00; }
  </style>
</head>

<body>
  <div class="container">
    <div class="left-panel">
      <div class="brand">
        <div class="logo"><img src="../../Assets/LOGOINGRESAR.png" alt="KonCheck logo" /></div>
        <h1>KonCheck</h1>
      </div>
    </div>

    <div class="side-tabs" aria-hidden="false">
      <a href="../IngresarFp/IngresarFp.html" class="side-tab ingresar" role="button" aria-label="Ingresar">Ingresar</a>
      <a href="#" class="side-tab registro" role="button" aria-label="Registro">Registro</a>
    </div>

    <div class="right-panel">
      <h1>REGISTRO</h1>
      <div class="step">
        <div class="step-number">1</div>
        <div class="step-number">2</div>
      </div>
      <h2>Informaci√≥n profesional</h2>

      <form id="registro-form">
        <div class="input-group">
          <span class="icon">üì∞</span>
          <input type="text" name="idFuerza" placeholder="Id Fuerza" />
          <div class="mensaje-error" id="error-idFuerza">Solo se permiten n√∫meros</div>
        </div>

        <div class="input-group">
          <span class="icon">üëã</span>
          <input type="text" name="nombreFuerzaPublica" placeholder="Fuerza P√∫blica" />
          <div class="mensaje-error" id="error-nombreFuerzaPublica">Solo se permiten letras</div>
        </div>

        <div class="input-group">
          <span class="icon">‚≠ê</span>
          <input type="text" name="rango" placeholder="Rango" />
          <div class="mensaje-error" id="error-rango">Solo se permiten n√∫meros</div>
        </div>

        <div class="botones">
          <button type="button" class="btn-volver" onclick="window.location.href='RegistrarFp.html'">&lt; Anterior</button>
          <button type="submit" class="btn-guardar">Siguiente &gt;</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("registro-form");
      const idFuerza = form.querySelector('input[name="idFuerza"]');
      const nombre = form.querySelector('input[name="nombreFuerzaPublica"]');
      const rango = form.querySelector('input[name="rango"]');

      const errorId = document.getElementById("error-idFuerza");
      const errorNombre = document.getElementById("error-nombreFuerzaPublica");
      const errorRango = document.getElementById("error-rango");

      // Cargar datos guardados si existen
      idFuerza.value = sessionStorage.getItem('idFuerza') || '';
      nombre.value = sessionStorage.getItem('nombreFuerzaPublica') || '';
      rango.value = sessionStorage.getItem('rango') || '';

      function validarNumero(valor) { return /^[0-9]+$/.test(valor); }
      function validarLetras(valor) { return /^[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]+$/.test(valor); }

      idFuerza.addEventListener("input", () => { errorId.style.display = validarNumero(idFuerza.value) ? "none" : "block"; });
      nombre.addEventListener("input", () => { errorNombre.style.display = validarLetras(nombre.value) ? "none" : "block"; });
      rango.addEventListener("input", () => { errorRango.style.display = validarNumero(rango.value) ? "none" : "block"; });

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        let valid = true;

        if (!validarNumero(idFuerza.value)) { errorId.style.display = "block"; valid = false; }
        if (!validarLetras(nombre.value)) { errorNombre.style.display = "block"; valid = false; }
        if (!validarNumero(rango.value)) { errorRango.style.display = "block"; valid = false; }

        if (valid) {
          // Guardar datos en sessionStorage
          sessionStorage.setItem('idFuerza', idFuerza.value.trim());
          sessionStorage.setItem('nombreFuerzaPublica', nombre.value.trim());
          sessionStorage.setItem('rango', rango.value.trim());
          window.location.href = "RegistrarFp3.html";
        }
      });
    });
  </script>
  
  <!-- Script para redirecci√≥n de logos -->
  <script src="../js/logo-redirect.js"></script>
</body>
</html>
