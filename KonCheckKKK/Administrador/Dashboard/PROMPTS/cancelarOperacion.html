<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cancelar Operaci贸n - KonCheck</title>
  <style>
    /* ====== General ====== */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #F1F1F1;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* ====== Ventana principal ====== */
    .ventana {
      background-color:  #F1F1F1;;
      width: 700px;
    
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 30px;
      position: relative;
    }

    /* ====== Logo KonCheck ====== */
    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
      position: absolute;
      top: 25px;
      left: 30px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 8px 12px;
      border-radius: 10px;
      background-color: #fff;
    }

    .logo-container img {
      height: 40px;
    }

    .logo-container h2 {
      color: #0097d0;
      font-size: 20px;
      margin: 0;
    }

    /* ====== Contenido principal ====== */
      .contenido {
      margin-top: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 40px;
    }

    /* Solo mover la imagen del administrador sorprendido */
    .contenido img[src*="AD_SORPRENDIDO_PROMPT.png"] {
      width: 190px;
      height: auto;
      transform: translateX(-35px); /*  Se mueve 35px a la izquierda */
    }


    .texto {
      text-align: center;
    }

    .texto h1 {
      color: #00a2d3;
      font-size: 30px;
      margin-bottom: 10px;
    }

    .texto p {
      font-size: 18px;
      color: #333;
      margin-bottom: 35px;
    }

    /* ====== Botones ====== */
    .botones {
      display: flex;
      justify-content: center;
      gap: 40px;
    }

    .boton {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 10px 25px;
      border: none;
      border-radius: 25px;
      font-size: 17px;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .boton:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
    }

    .boton.si {
      background-color: #28a745;
    }

    .boton.no {
      background-color: #c82333;
    }

    .boton img {
      width: 18px;
      height: 18px;
      filter: brightness(0) invert(1);
    }
  </style>
</head>
<body>
  <div class="ventana">
  
    <div class="logo-container">
      <img src="../../../Assets/LOGOPROMPT.png" alt="Logo KonCheck">

      <h2>KonCheck</h2>
    </div>

   
    <div class="contenido">
      <img src="../../../Assets/AD_SORPRENDIDO_PROMPT.png" alt="Administrador sorprendido">
      <div class="texto">
        <h1>Cancelar Operaci贸n</h1>
        <p>驴Est谩s seguro que deseas cancelar la operaci贸n?</p>
        <div class="botones">
          <button class="boton si">
            SI
            <img src="../../../Assets/chulitoBlanco.svg" alt="Icono check">
            
          </button>
          <button class="boton no">
            No
            <img src="../../../Assets/xBlanca.svg" alt="Icono X">

            
          </button>
        </div>
      </div>
    </div>
  </div>




<script>
document.addEventListener('DOMContentLoaded', () => {
  const btnSi = document.querySelector(".boton.si");
  const btnNo = document.querySelector(".boton.no");

  function enviarAlParent(msg) {
    try {
      if (window.parent && window.parent !== window) {
        window.parent.postMessage(msg, "*");
        console.log("cancelarOperacion -> postMessage enviado:", msg);
      } else {
        // Fallback si se abre directamente (pruebas)
        console.log("cancelarOperacion -> sin parent, fallback:", msg);
        if (msg.action === "confirmCancel") {
          window.location.href = "../dashboard.html";
        } else if (msg.action === "closePrompt") {
          if (window.history.length > 1) window.history.back();
        }
      }
    } catch (err) {
      console.error("Error enviando mensaje al parent:", err);
    }
  }

  if (btnSi) {
    btnSi.addEventListener("click", (e) => {
      e.preventDefault();
      // Enviar mensaje de confirmaci贸n de cancelaci贸n
      enviarAlParent({ action: "confirmCancel" });
    });
  } else {
    console.warn("cancelarOperacion: bot贸n SI no encontrado");
  }

  if (btnNo) {
    btnNo.addEventListener("click", (e) => {
      e.preventDefault();
      // Pedimos al padre que cierre el overlay y contin煤e en la misma p谩gina
      enviarAlParent({ action: "closePrompt" });
    });
  } else {
    console.warn("cancelarOperacion: bot贸n NO no encontrado");
  }
});
</script>



</body>
</html>